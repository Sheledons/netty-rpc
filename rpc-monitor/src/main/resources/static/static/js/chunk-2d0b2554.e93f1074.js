(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b2554"],{2451:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{directives:[{name:"show",rawName:"v-show",value:0===e.scene,expression:"scene===0"}],staticStyle:{"margin-top":"10px"}},[a("div",[a("el-form",[a("el-form-item",{attrs:{label:"刷新间隔(秒)"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.timeInterval,callback:function(t){e.timeInterval=t},expression:"timeInterval"}},e._l(e.timeIntervalOptions,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),a("el-table",{attrs:{border:"",data:e.pageApplications}},[a("el-table-column",{attrs:{type:"index",align:"center",label:"序号"}}),a("el-table-column",{attrs:{label:"应用名称",prop:"applicationName"}}),a("el-table-column",{attrs:{label:"服务类型"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return e._l(i.type,(function(t,i){return a("el-tag",{key:i,staticStyle:{"margin-left":"5px"},attrs:{size:"medium",type:"success"}},[e._v(" "+e._s(t)+" ")])}))}}])}),a("el-table-column",{attrs:{label:"上线时间"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(i.time))])]}}])}),a("el-table-column",{attrs:{label:"主机",prop:"host"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-info"},on:{click:function(t){return e.showDetail(i.applicationName)}}},[e._v("查看详情")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{"current-page":e.pagination.page,"page-sizes":[5,10,20,30],"page-size":e.pagination.limit,layout:"prev, pager, next, jumper, ->,sizes, total",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),a("el-card",{directives:[{name:"show",rawName:"v-show",value:1===e.scene,expression:"scene===1"}],staticStyle:{"margin-top":"10px"}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"应用名称"}},[a("el-input",{attrs:{size:"medium",value:e.applicationDetail.applicationName,disabled:""}})],1),a("el-form-item",{attrs:{label:"上线时间"}},[a("el-input",{attrs:{size:"medium",value:e.applicationDetail.time,disabled:""}})],1),a("el-form-item",{attrs:{label:"类型"}},e._l(e.applicationDetail.type,(function(t,i){return a("el-tag",{key:i,staticStyle:{"margin-left":"5px"},attrs:{size:"medium",type:"success"}},[e._v(" "+e._s(t)+" ")])})),1),a("el-form-item",{attrs:{label:"service"}},[a("el-collapse",[a("el-collapse-item",{attrs:{title:"提供service",name:"1"}},[a("el-table",{attrs:{border:"",data:e.applicationDetail.serviceList}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"serviceName",label:"服务名称"}}),a("el-table-column",{attrs:{prop:"group",label:"group"}}),a("el-table-column",{attrs:{prop:"version",label:"version"}}),a("el-table-column",{attrs:{prop:"invokeCount",label:"调用次数"}})],1),a("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{"current-page":e.servicePagination.page,"page-sizes":[5,10,20,30],"page-size":e.servicePagination.limit,layout:"prev, pager, next, jumper, ->,sizes, total",total:e.servicePagination.total},on:{"size-change":e.handleServiceListPageSizeChange,"current-change":e.handleServiceListPageCurrentChange}})],1)],1)],1),a("el-form-item",{attrs:{label:"host"}},[a("el-input",{attrs:{size:"medium",value:e.applicationDetail.host,disabled:""}})],1)],1),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.closeDetail}},[e._v("取消")])],1)],1)],1)},n=[],l=a("1da1"),s=(a("fb6a"),a("96cf"),a("b775")),r=function(){return s["a"].get("/application")},o=function(e){return s["a"].get("/application/".concat(e))},c={name:"Application",data:function(){return{pagination:{page:1,limit:10,total:0},servicePagination:{page:1,limit:10,total:0},keyword:"",scene:0,timeIntervalOptions:[5,10,15],timeInterval:5,applications:[],pageApplications:[],pageRpcServiceList:[],applicationDetail:{},scheduled:void 0}},watch:{timeInterval:function(){clearInterval(this.scheduled),this.setScheduled()}},mounted:function(){this.setScheduled(),this.getApplicationList()},methods:{setScheduled:function(){var e=this;this.scheduled=setInterval((function(){e.getApplicationList()}),1e3*this.timeInterval)},resetKeyword:function(){this.keyword=""},handleSizeChange:function(e){this.pagination.limit=e,this.resetPageApplications()},handleCurrentChange:function(e){this.pagination.page=e,this.resetPageApplications()},handleServiceListPageSizeChange:function(e){this.servicePagination.limit=e,this.resetPageServiceList()},handleServiceListPageCurrentChange:function(e){this.servicePagination.page=e,this.resetPageServiceList()},showDetail:function(e){this.scene=1,this.getApplicationByName(e)},changeScene:function(e){this.scene=e},closeDetail:function(){this.scene=0,this.applicationDetail={}},getApplicationList:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:a=t.sent,200===a.code&&(e.applications=a.data,e.pagination.total=e.applications.length,e.resetPageApplications());case 4:case"end":return t.stop()}}),t)})))()},getApplicationByName:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,o(e);case 2:i=a.sent,200===i.code&&(t.applicationDetail=i.data);case 4:case"end":return a.stop()}}),a)})))()},resetPageApplications:function(){var e=this.pagination,t=e.page,a=e.limit,i=(t-1)*a;this.pageApplications=this.applications.slice(i,i+a)},resetPageServiceList:function(){var e=this.servicePagination,t=e.page,a=e.limit,i=(t-1)*a;this.pageRpcServiceList=this.applicationDetail.serviceList.slice(i,i+a)}}},p=c,u=a("2877"),m=Object(u["a"])(p,i,n,!1,null,"51276eb5",null);t["default"]=m.exports}}]);
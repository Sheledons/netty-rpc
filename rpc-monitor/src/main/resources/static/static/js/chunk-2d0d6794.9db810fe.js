(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6794"],{7368:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",{staticStyle:{"margin-top":"10px"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.scene,expression:"scene===0"}]},[n("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:function(t){e.scene=1}}},[e._v("添加用户")]),n("el-table",{attrs:{data:e.userList,border:""}},[n("el-table-column",{attrs:{type:"index",label:"序号"}}),n("el-table-column",{attrs:{prop:"username",label:"用户名"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteUser(s.username)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{"current-page":e.pagination.page,"page-sizes":[5,10,20,30],"page-size":e.pagination.limit,layout:"prev, pager, next, jumper, ->,sizes, total",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:1===e.scene,expression:"scene===1"}]},[n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)],1),n("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v("确定")]),n("el-button",{on:{click:e.cancelAdd}},[e._v("取消")])],1)])],1)},a=[],r=n("1da1"),i=(n("96cf"),n("fb6a"),n("c24f")),c={name:"User",data:function(){return{userList:[],pageUserList:[],user:{username:"",password:""},pagination:{page:1,limit:10,total:0},scene:0}},mounted:function(){this.getUserList()},methods:{handleSizeChange:function(e){this.pagination.limit=e,this.resetPageUserList()},handleCurrentChange:function(e){this.pagination.page=e,this.resetPageUserList()},resetPageUserList:function(){var e=this.pagination,t=e.page,n=e.limit,s=(t-1)*n;this.pageUserList=this.userList.slice(s,s+n)},addUser:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["g"])(e.user);case 2:n=t.sent,200===n.code?(e.$message({message:"添加成功",type:"success"}),e.user={username:"",password:""},e.scene=0,e.getUserList()):e.$message({message:"添加失败",type:"warning"});case 4:case"end":return t.stop()}}),t)})))()},getUserList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["e"])();case 2:n=t.sent,200===n.code&&(e.userList=n.data,e.resetPageUserList());case 4:case"end":return t.stop()}}),t)})))()},cancelAdd:function(){this.user={username:"",password:""},this.scene=0},deleteUser:function(e){var t=this;this.$confirm("是否删除该用户","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(r["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(i["d"])(e);case 2:s=n.sent,200===s.code&&(t.getUserList(),t.$message({type:"success",message:"删除成功!"}));case 4:case"end":return n.stop()}}),n)})))).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},o=c,u=n("2877"),l=Object(u["a"])(o,s,a,!1,null,"375d1473",null);t["default"]=l.exports}}]);